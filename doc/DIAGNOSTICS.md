# üîß –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ò –§–ò–ö–° –£–ü–†–ê–í–õ–ï–ù–ò–Ø - v2.1.1

**–î–∞—Ç–∞:** 22 –§–µ–≤—Ä–∞–ª—è 2026  
**–í–µ—Ä—Å–∏—è:** 2.1.1  
**–°—Ç–∞—Ç—É—Å:** üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ò –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

---

## üö® –û–ë–ù–ê–†–£–ñ–ï–ù–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

–ü–µ—Ä—Å–æ–Ω–∞–∂ –Ω–µ –¥–≤–∏–∂–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–ª–∞–≤–∏—à —Å—Ç—Ä–µ–ª–æ–∫, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ `maze-input.js`.

### –ê–Ω–∞–ª–∏–∑ –ü—Ä–∏—á–∏–Ω

#### –ü—Ä–∏—á–∏–Ω–∞ #1: –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ú–æ–¥—É–ª–µ–π
- **–§–∞–π–ª `maze-game.js`** —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞—Ä—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **–≥–ª–æ–±–∞–ª—å–Ω—ã–π `engine` –∏–∑ `MazeEngine`**
- –ù–æ –≤ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ **`maze-main.js`**
- –ú–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ **–¥–≤–æ–π–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏** –∏–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É

#### –ü—Ä–∏—á–∏–Ω–∞ #2: –ù–µ–≤–µ—Ä–Ω—ã–π –ü–æ—Ä—è–¥–æ–∫ –ó–∞–≥—Ä—É–∑–∫–∏
HTML –∑–∞–≥—Ä—É–∂–∞–µ—Ç:
```html
<script src="maze-engine.js"></script>     <!-- –°–æ–∑–¥–∞–µ—Ç engine -->
<script src="maze-renderer.js"></script>
<script src="maze-input.js"></script>
<script src="maze-audio.js"></script>
<script src="maze-physics.js"></script>
<script src="maze-story.js"></script>
<script src="maze-main.js"></script>       <!-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç engine -->
```

–ù–æ –º–æ–∂–µ—Ç –±—ã—Ç—å, —á—Ç–æ `maze-game.js` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≥–¥–µ-—Ç–æ –∏ –ø–µ—Ä–µ–±–∏–≤–∞–µ—Ç `maze-main.js`

#### –ü—Ä–∏—á–∏–Ω–∞ #3: InputManager –ù–µ –°–≤—è–∑–∞–Ω —Å –§–∏–∑–∏–∫–æ–π
- `InputManager` —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ `maze-main.js`
- –ù–æ `PhysicsEngine.updateMovement()` —Ç—Ä–µ–±—É–µ—Ç `inputManager`
- –ï—Å–ª–∏ `inputManager` –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### –®–∞–≥ 1: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `maze-game.js` –ù–ï –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```html
<!-- maze.html –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å: -->
<script src="maze-engine.js"></script>
<script src="maze-renderer.js"></script>
<script src="maze-input.js"></script>
<script src="maze-audio.js"></script>
<script src="maze-physics.js"></script>
<script src="maze-story.js"></script>
<script src="maze-main.js"></script>
<script src="DEBUG.js"></script>

<!-- –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: -->
<!-- <script src="maze-game.js"></script> -->
```

–ï—Å–ª–∏ `maze-game.js` —É–∫–∞–∑–∞–Ω - —É–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å!

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `maze-main.js`

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è `gameLoop` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ:

```javascript
function gameLoop(timestamp) {
    if (!gameState.paused) {
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è - –û–°–ù–û–í–ù–û–ô –í–´–ó–û–í
        const moveResult = physicsEngine.updateMovement(
            gameState.player, 
            engine, 
            inputManager,  // ‚Üê –í–ê–ñ–ù–û: –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è inputManager
            timestamp
        );
        
        if (moveResult.moved) {
            audioManager.play('step');
        }
        
        // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
    }
    
    requestAnimationFrame(gameLoop);
}
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `maze-input.js`

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `initialize()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:

```javascript
function initGame() {
    engine = new MazeEngine();
    renderer = new MazeRenderer('maze');
    inputManager = new InputManager();  // ‚Üê –°–æ–∑–¥–∞–µ—Ç—Å—è
    
    renderer.initialize();
    inputManager.initialize();  // ‚Üê –í–ê–ñ–ù–û: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è!
    audioManager.initialize();
    
    setupGame();
}
```

### –®–∞–≥ 4: –û—Ç–ª–∞–¥–∫–∞ –≤ –ö–æ–Ω—Å–æ–ª–∏

**–û—Ç–∫—Ä–æ–π—Ç–µ F12 –∫–æ–Ω—Å–æ–ª—å –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:**

```javascript
// 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ inputManager
console.log(inputManager);
// –î–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç InputManager

// 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏—à
inputManager.keys['ArrowUp'] = true;
console.log(inputManager.getMovementDirection());
// –î–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏: {dx: 0, dy: -1}

// 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å
fullDebug();
// –î–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∏—Å—Ç–µ–º–µ

// 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
console.log(gameState.player);
// –î–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏: {x: 0, y: 0}
```

---

## üìã –ü–û–õ–ù–´–ô –ß–ï–ö–ë–û–ö–° –ü–†–û–í–ï–†–ö–ò

- [ ] `maze-game.js` –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ HTML
- [ ] HTML –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–æ–ª—å–∫–æ –º–æ–¥—É–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
- [ ] `maze-main.js` —Å–æ–¥–µ—Ä–∂–∏—Ç `gameLoop()` —Ñ—É–Ω–∫—Ü–∏—é
- [ ] `gameLoop()` –≤—ã–∑—ã–≤–∞–µ—Ç `physicsEngine.updateMovement()`
- [ ] `physicsEngine.updateMovement()` –ø–æ–ª—É—á–∞–µ—Ç `inputManager`
- [ ] `initGame()` –≤—ã–∑—ã–≤–∞–µ—Ç `inputManager.initialize()`
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏ –Ω–µ—Ç –æ—à–∏–±–æ–∫
- [ ] `fullDebug()` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç OK —Å—Ç–∞—Ç—É—Å
- [ ] –ù–∞–∂–∞—Ç–∏–µ –∫–ª–∞–≤–∏—à–∏ –∏–∑–º–µ–Ω—è–µ—Ç `inputManager.keys`
- [ ] –ù–∞–∂–∞—Ç–∏–µ –∫–ª–∞–≤–∏—à–∏ –∏–∑–º–µ–Ω—è–µ—Ç `gameState.player`

---

## üîç –î–ï–¢–ê–õ–¨–ù–´–ô –ü–†–û–¶–ï–°–° –ù–ê–ñ–ê–¢–ò–Ø –ö–õ–ê–í–ò–®–ò

–ö–æ–≥–¥–∞ –≤—ã –Ω–∞–∂–∏–º–∞–µ—Ç–µ —Å—Ç—Ä–µ–ª–∫—É, –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:

```
1. keydown —Å–æ–±—ã—Ç–∏–µ
   ‚Üì
2. maze-input.js: window.addEventListener('keydown', ...)
   ‚Üì
3. inputManager.keys['ArrowUp'] = true
   ‚Üì
4. gameLoop() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è 60 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É
   ‚Üì
5. physicsEngine.updateMovement() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
   ‚Üì
6. inputManager.getMovementDirection() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç {dx: 0, dy: -1}
   ‚Üì
7. physicsEngine –ø—Ä–æ–≤–µ—Ä—è–µ—Ç isValidMove(nx, ny, engine)
   ‚Üì
8. gameState.player.x –∏ gameState.player.y –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
   ‚Üì
9. renderer.draw(engine, gameState.player) –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç
   ‚Üì
10. –í—ã –≤–∏–¥–∏—Ç–µ –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ! ‚úÖ
```

–ï—Å–ª–∏ –Ω–∞ –∫–∞–∫–æ–º-—Ç–æ —ç—Ç–∞–ø–µ –æ—à–∏–±–∫–∞ - –¥–≤–∏–∂–µ–Ω–∏—è –Ω–µ –±—É–¥–µ—Ç.

---

## üõ†Ô∏è –ë–´–°–¢–†–´–ô –§–ò –ö–°

–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –∏–∑ –≤—ã—à–µ –Ω–µ –ø–æ–º–æ–≥–ª–æ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:

### 1. –ü–æ–ª–Ω–∞—è –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
```
1. –ó–∞–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à (Ctrl+Shift+Delete)
3. –û—Ç–∫—Ä–æ–π—Ç–µ maze.html –∑–∞–Ω–æ–≤–æ
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –§–∞–π–ª–æ–≤
```
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —ç—Ç–∏ —Ñ–∞–π–ª—ã –µ—Å—Ç—å:
‚úÖ maze.html
‚úÖ maze-engine.js
‚úÖ maze-renderer.js
‚úÖ maze-input.js
‚úÖ maze-audio.js
‚úÖ maze-physics.js
‚úÖ maze-story.js
‚úÖ maze-main.js
‚úÖ DEBUG.js

‚ùå –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å:
‚ùå maze-game.js (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
```

### 3. –í–∫–ª—é—á–∏—Ç—å –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
window.DEBUG_MODE = true;

// –ù–∞–∂–∞—Ç—å –∫–ª–∞–≤–∏—à—É –∏ —Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
```

---

## üìä –ü–†–ò–ó–ù–ê–ö–ò –†–ê–ë–û–¢–´

### ‚úÖ –ï—Å–ª–∏ –í—Å—ë –†–∞–±–æ—Ç–∞–µ—Ç:
```javascript
// –ö–æ–Ω—Å–æ–ª—å:
üéÆ DOMContentLoaded - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é –∏–≥—Ä—É...
‚úÖ –ò–≥—Ä–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ

// –ù–∞–∂–∏–º–∞–µ—Ç–µ —Å—Ç—Ä–µ–ª–∫—É - –≤–∏–¥–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏:
‚å®Ô∏è KEYDOWN: ArrowUp

// –ü–µ—Ä—Å–æ–Ω–∞–∂ –¥–≤–∏–≥–∞–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ
// fullDebug() –≤—ã–≤–æ–¥–∏—Ç: ‚úÖ OK –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```

### ‚ùå –ï—Å–ª–∏ –ù–µ –†–∞–±–æ—Ç–∞–µ—Ç:
```javascript
// –ö–æ–Ω—Å–æ–ª—å –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å:
‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: ...

// –ò–ª–∏ –Ω–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞ (—Å–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω)

// –ò–ª–∏: inputManager is undefined

// –ò–ª–∏: Cannot read property 'keys' of undefined
```

---

## üöÄ –û–ö–û–ù–ß–ê–¢–ï–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–≤–∏–∂–µ–Ω–∏–µ –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑-–∑–∞:

1. **–°—Ç–∞—Ä–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Chrome/Firefox/Edge –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
2. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤** - –æ—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –ø–æ–ª–Ω–æ—Å—Ç—å—é
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è `maze-main.js`
4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏—è canvas** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ HTML —Å–æ–¥–µ—Ä–∂–∏—Ç `<canvas id="maze"></canvas>`

---

## üìû –û–¢–õ–ê–î–û–ß–ù–´–ï –ö–û–ú–ê–ù–î–´

```javascript
// –ö–æ–ø–∏—Ä—É–π—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å (F12):

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
console.log({
    engine: !!window.engine,
    renderer: !!window.renderer,
    inputManager: !!window.inputManager,
    physicsEngine: !!window.physicsEngine
})

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∞–≤–∏—à
console.log(inputManager.keys)

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é –∏–≥—Ä–æ–∫–∞
console.log(gameState.player)

// –†—É—á–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
manualMove('up')

// –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
fullDebug()
```

---

**–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–µ—Ä—Å–∏—Å—Ç–∏—Ä—É–µ—Ç - —Å–≤—è–∂–∏—Ç–µ—Å—å —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º —Å –≤—ã–≤–æ–¥–æ–º –∫–æ–Ω—Å–æ–ª–∏!**
