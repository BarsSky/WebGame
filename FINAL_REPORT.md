# üìã –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢ –û –§–ò–ö–°–ê–•

## üéØ –î–≤–µ –ì–ª–∞–≤–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã –†–µ—à–µ–Ω—ã

### ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ #1: –ë–ê–ì –£–†–û–í–ù–ï–ô > 20 (widenPaths)
**–°—Ç–∞—Ç—É—Å:** –†–ï–®–ï–ù–ê ‚úÖ

**–ß—Ç–æ –ë—ã–ª–æ:** 
- –ú–µ—Ç–æ–¥ `widenPaths()` –≤—ã–∑—ã–≤–∞–ª—Å—è, –Ω–æ –Ω–µ –±—ã–ª –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
- –û—à–∏–±–∫–∞: `ReferenceError: widenPaths is not a function`
- –ù–∞ —É—Ä–æ–≤–Ω—è—Ö 21+ –∏–≥—Ä–∞ –∫—Ä–∞—à–∏–ª–∞—Å—å

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω –ø–æ–ª–Ω—ã–π –º–µ—Ç–æ–¥ `widenPaths()` –≤ `maze-engine.js`
- –†–∞—Å—à–∏—Ä—è–µ—Ç –ø—Ä–æ—Ö–æ–¥—ã –¥–æ 3 –∫–ª–µ—Ç–æ–∫ –¥–ª—è –±–æ–ª—å—à–µ–π –ø—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ö–æ–¥ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 80 –≤ `maze-engine.js`

**–§–∞–π–ª—ã –ò–∑–º–µ–Ω–µ–Ω—ã:**
- ‚úÖ `maze-engine.js` - –¥–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥

**–¢–µ—Å—Ç:** –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å 21+ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—É—Ç–∏ —Ä–∞—Å—à–∏—Ä—è—é—Ç—Å—è

---

### ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ #2: –£–ü–†–ê–í–õ–ï–ù–ò–ï –°–¢–†–ï–õ–ö–ê–ú–ò –ù–ï –†–ê–ë–û–¢–ê–ï–¢
**–°—Ç–∞—Ç—É—Å:** –†–ï–®–ï–ù–ê ‚úÖ

**–ß—Ç–æ –ë—ã–ª–æ:**
- –ö–ª–∞–≤–∏—à–∏ —Å—Ç—Ä–µ–ª–æ–∫ –Ω–µ —É–ø—Ä–∞–≤–ª—è–ª–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º
- –¢–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏
- WASD –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ `preventDefault()` –¥–ª—è —Å—Ç—Ä–µ–ª–æ–∫
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ WASD
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π —É–ª—É—á—à–µ–Ω–∞ –≤ `maze-input.js`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤ `maze-main.js`

**–§–∞–π–ª—ã –ò–∑–º–µ–Ω–µ–Ω—ã:**
- ‚úÖ `maze-input.js` - —É–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞
- ‚úÖ `maze-main.js` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- ‚úÖ `maze.html` - –¥–æ–±–∞–≤–ª–µ–Ω DEBUG.js

**–§–∞–π–ª—ã –°–æ–∑–¥–∞–Ω—ã:**
- ‚úÖ `DEBUG.js` - —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ `test-controls.html` - —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ `CONTROLS_FIX.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ–∏–∫—Å–∞

---

## üìÅ –ü–æ–ª–Ω—ã–π –°–ø–∏—Å–æ–∫ –ò–∑–º–µ–Ω–µ–Ω–∏–π

### maze-core.js ‚úÖ
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `widenPaths()`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `getRandomWaypoint()` –∏ `isWalkable()`

### maze-engine.js ‚úÖ
- –°–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é MazeEngine —Å widenPaths()
- –í–∫–ª—é—á–∞–µ—Ç –ª–æ–≥–∏–∫—É —Å–ø–∞–≤–Ω–∞ NPC
- –°–∏—Å—Ç–µ–º–∞ –¥–∏–∞–ª–æ–≥–æ–≤ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞

### maze-renderer.js ‚úÖ
- –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞
- –¢—É–º–∞–Ω –≤–æ–π–Ω—ã —Å —É—Ä–æ–≤–Ω—è–º–∏
- –°–ª–µ–¥—è—â–∞—è –∫–∞–º–µ—Ä–∞ (—É—Ä–æ–≤–Ω–∏ > 15)

### maze-input.js ‚úÖ
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä–µ–ª–æ–∫ —Å preventDefault()
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WASD
- –°–µ–Ω—Å–æ—Ä–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –º–æ–±–∏–ª–µ–π
- –§—É–Ω–∫—Ü–∏—è getMovementDirection()

### maze-physics.js ‚úÖ
- –õ–æ–≥–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–ª–∏–∑–∏–π
- –°–±–æ—Ä –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å NPC

### maze-audio.js ‚úÖ
- –°–∏—Å—Ç–µ–º–∞ –∑–≤—É–∫–æ–≤
- –°–∏–Ω—Ç–µ–∑ –∑–≤—É–∫–æ–≤ —á–µ—Ä–µ–∑ Web Audio API

### maze-story.js ‚úÖ
- –°–∏—Å—Ç–µ–º–∞ —Å—é–∂–µ—Ç–∞
- –î–∏–∞–ª–æ–≥–∏ NPC
- –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏—Å—Ç–æ—Ä–∏–π

### maze-main.js ‚úÖ
- –ì–ª–∞–≤–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–±–µ–¥—ã

---

## üß™ –ö–∞–∫ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ #1: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°—Ç—Ä–µ–ª–∫–∞–º–∏

```bash
1. –û—Ç–∫—Ä—ã—Ç—å maze.html –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–∞—Ç—å F12 (–æ—Ç–∫—Ä—ã—Ç—å DevTools)
3. –í –∫–æ–Ω—Å–æ–ª–∏ –≤–≤–µ—Å—Ç–∏: testInputManager()
4. –ù–∞–∂–∏–º–∞—Ç—å —Å—Ç—Ä–µ–ª–∫–∏ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ
5. –í–∏–¥–µ—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –≤ –ª–∞–±–∏—Ä–∏–Ω—Ç–µ
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ #2: –£—Ä–æ–≤–Ω–∏ > 20

```bash
1. –û—Ç–∫—Ä—ã—Ç—å maze.html
2. –ù–∞–∂–∞—Ç—å F12 (–∫–æ–Ω—Å–æ–ª—å)
3. –í–≤–µ—Å—Ç–∏: engine.level = 21; setupGame();
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—É—Ç–∏ —Ä–∞—Å—à–∏—Ä—è—é—Ç—Å—è
5. –ü–µ—Ä—Å–æ–Ω–∞–∂ –¥–æ–ª–∂–µ–Ω –ª–µ–≥—á–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–æ—Ö–æ–¥—ã
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ #3: –¢–µ—Å—Ç–æ–≤–∞—è –°—Ç—Ä–∞–Ω–∏—Ü–∞

```bash
1. –û—Ç–∫—Ä—ã—Ç—å test-controls.html
2. –ù–∞–∂–∏–º–∞—Ç—å —Å—Ç—Ä–µ–ª–∫–∏ - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–≤–µ—Ç—è—Ç—Å—è –∑–µ–ª–µ–Ω—ã–º
3. –ù–∞–∂–∏–º–∞—Ç—å –∫–Ω–æ–ø–∫–∏ - –≤–∏–¥–µ—Ç—å –ª–æ–≥–∏ –∫–æ–º–∞–Ω–¥
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–≥—Ä–æ–∫–µ
```

---

## üõ†Ô∏è –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ö–æ–º–∞–Ω–¥—ã

```javascript
// –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
fullDebug()

// –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
debugGameState()

// –¢–µ—Å—Ç InputManager
testInputManager()

// –¢–µ—Å—Ç PhysicsEngine
testPhysics()

// –†—É—á–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
manualMove('up')
manualMove('down')
manualMove('left')
manualMove('right')

// –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–∞–≤–∏—à
console.log(inputManager.keys)

// –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
console.log(inputManager.getMovementDirection())
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –¢–µ—Å—Ç |
|-----------|--------|------|
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ | ‚úÖ OK | –£—Ä–æ–≤–Ω–∏ 1-101 —Ä–∞–±–æ—Ç–∞—é—Ç |
| widenPaths (—É—Ä–æ–≤–Ω–∏ > 20) | ‚úÖ OK | –ü—É—Ç–∏ —Ä–∞—Å—à–∏—Ä—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ |
| –°—Ç—Ä–µ–ª–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è | ‚úÖ OK | –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã |
| WASD —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ | ‚úÖ OK | –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ |
| –ö–Ω–æ–ø–∫–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ | ‚úÖ OK | –ú–æ–±–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ OK |
| –ö–æ–ª–ª–∏–∑–∏–∏ | ‚úÖ OK | –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Å —Å—Ç–µ–Ω–∞–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç |
| –°–±–æ—Ä –ø—Ä–µ–¥–º–µ—Ç–æ–≤ | ‚úÖ OK | –ö–ª—é—á –∏ –∫–Ω–∏–≥–∞ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è |
| NPC —Å–∏—Å—Ç–µ–º–∞ | ‚úÖ OK | –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ —Å–ø–∞–≤–Ω—è—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ 25+ |
| –°—é–∂–µ—Ç | ‚úÖ OK | –î–∏–∞–ª–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –Ω–∞ –Ω—É–∂–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö |
| –ó–≤—É–∫–∏ | ‚úÖ OK | –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ |

---

## üéÆ –ì–æ—Ç–æ–≤—ã–µ –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –í –ö–æ–Ω—Å–æ–ª–∏:
```javascript
// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è–º–∏
jumpToLevel(21)        // –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å 21
resetToStart()         // –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —É—Ä–æ–≤–µ–Ω—å 1

// –ü—Ä–µ–¥–º–µ—Ç—ã
engine.hasKey = true   // –î–∞—Ç—å –∫–ª—é—á
engine.hasBook = true  // –î–∞—Ç—å –∫–Ω–∏–≥—É (–µ—Å–ª–∏ —É—Ä–æ–≤–µ–Ω—å >= 10)

// –î–≤–∏–∂–µ–Ω–∏–µ
manualMove('up')       // –†—É—á–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
manualMove('down')
manualMove('left')
manualMove('right')

// –û—Ç–ª–∞–¥–∫–∞
testInputManager()     // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å input
testPhysics()         // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–∑–∏–∫—É
debugGameState()      // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
fullDebug()           // –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
```

---

## üìù –ó–∞–º–µ—Ç–∫–∏

1. **widenPaths —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞—á–∏–Ω–∞—è —Å —É—Ä–æ–≤–Ω—è 21**
   - –£—Ä–æ–≤–Ω–∏ 1-20: –ø—É—Ç–∏ –æ–±—ã—á–Ω–æ–π —à–∏—Ä–∏–Ω—ã
   - –£—Ä–æ–≤–Ω–∏ 21+: –ø—É—Ç–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω—ã –¥–æ 3 –∫–ª–µ—Ç–æ–∫

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å:**
   - ‚¨ÜÔ∏è‚¨áÔ∏è‚¨ÖÔ∏è‚û°Ô∏è –°—Ç—Ä–µ–ª–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
   - W/A/S/D –∫–ª–∞–≤–∏—à–∏ (WASD)
   - –ö–Ω–æ–ø–∫–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ (–º–æ–±–∏–ª—å–Ω—ã–µ)

3. **–î–ª—è –ª—É—á—à–µ–π –æ—Ç–ª–∞–¥–∫–∏:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ test-controls.html –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–≤–æ–¥–∞
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ console (F12) –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
   - –í–∫–ª—é—á–∏—Ç–µ DEBUG_MODE –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

## ‚ú® –ò—Ç–æ–≥–æ

‚úÖ **–û–±–∞ –±–∞–≥–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!**

- –£—Ä–æ–≤–Ω–∏ > 20 —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–µ–ª–∫–∞–º–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–ª–∞–¥–∫–∏ –¥–ª—è –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π
- –°–æ–∑–¥–∞–Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ò–≥—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏–≥—Ä–µ! üéÆ**
