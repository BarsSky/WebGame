# üéÆ –§–∏–∫—Å –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è - –ö–ª–∞–≤–∏—à–∏ –°—Ç—Ä–µ–ª–æ–∫

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
–ö–ª–∞–≤–∏—à–∏ —Å—Ç—Ä–µ–ª–æ–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º –≤ –ª–∞–±–∏—Ä–∏–Ω—Ç–µ.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

#### 1. **maze-input.js** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏—à
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è —Å—Ç—Ä–µ–ª–æ–∫ (`preventDefault()`)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ WASD –∫–ª–∞–≤–∏—à –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ —Å—Ç—Ä–µ–ª–∫–∞–º
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π `keydown` –∏ `keyup`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```javascript
// –î–û: —Å–æ–±—ã—Ç–∏—è –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏—Å—å
window.addEventListener('keydown', (e) => this.keys[e.key] = true);
window.addEventListener('keyup', (e) => this.keys[e.key] = false);

// –ü–û–°–õ–ï: —Å–æ–±—ã—Ç–∏—è –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è + WASD –ø–æ–¥–¥–µ—Ä–∂–∫–∞
window.addEventListener('keydown', (e) => {
    if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {
        e.preventDefault();
    }
    this.keys[e.key] = true;
});
```

#### 2. **maze-main.js** - –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–π `window` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏
- –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –≤ DevTools

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```javascript
function initGame() {
    // ... —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ ...
    
    // –°–¥–µ–ª–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    window.engine = engine;
    window.renderer = renderer;
    window.inputManager = inputManager;
    // ... –∏ —Ç.–¥. ...
}
```

#### 3. **DEBUG.js** - –ù–æ–≤—ã–π —Ñ–∞–π–ª –æ—Ç–ª–∞–¥–∫–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–∂–∞—Ç–∏–π –∫–ª–∞–≤–∏—à
- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

#### 4. **test-controls.html** - –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- –ù–æ–≤—ã–π —Ñ–∞–π–ª –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ –ø–æ–ª–Ω–æ–π –∏–≥—Ä—ã
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –Ω–∞–∂–∞—Ç—ã—Ö –∫–ª–∞–≤–∏—à
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥

---

## üß™ –ö–∞–∫ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –°–ø–æ—Å–æ–± 1: –ö–æ–Ω—Å–æ–ª—å DevTools

1. –û—Ç–∫—Ä–æ–π—Ç–µ `maze.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏—Ç–µ **F12** –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è DevTools
3. –í –∫–æ–Ω—Å–æ–ª–∏ –≤–≤–µ–¥–∏—Ç–µ:
```javascript
fullDebug()
```

4. –ù–∞–∂–∏–º–∞–π—Ç–µ —Å—Ç—Ä–µ–ª–∫–∏ –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

### –°–ø–æ—Å–æ–± 2: –¢–µ—Å—Ç–æ–≤–∞—è –°—Ç—Ä–∞–Ω–∏—Ü–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ `test-controls.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–∏–º–∞–π—Ç–µ —Å—Ç—Ä–µ–ª–∫–∏ - –¥–æ–ª–∂–Ω—ã —Å–≤–µ—Ç–∏—Ç—å—Å—è –∑–µ–ª–µ–Ω—ã–º
3. –ù–∞–∂–∏–º–∞–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è

### –°–ø–æ—Å–æ–± 3: –ü—Ä—è–º–æ–µ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ö–æ–Ω—Å–æ–ª–∏

```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∞–≤–∏—à
console.log(inputManager.keys);

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ArrowUp
inputManager.keys['ArrowUp'] = true;
console.log(inputManager.getMovementDirection()); // {dx: 0, dy: -1}
inputManager.keys['ArrowUp'] = false;

// –†—É—á–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
manualMove('up');    // –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –≤–≤–µ—Ä—Ö
manualMove('down');  // –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –≤–Ω–∏–∑
manualMove('left');  // –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –≤–ª–µ–≤–æ
manualMove('right'); // –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –≤–ø—Ä–∞–≤–æ
```

---

## üìä –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π –°–ø–∏—Å–æ–∫

- ‚úÖ –°—Ç—Ä–µ–ª–∫–∏ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑/–≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ WASD –∫–ª–∞–≤–∏—à–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç (–¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö)
- ‚úÖ –ö–æ–Ω—Å–æ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–∏ –Ω–∞–∂–∞—Ç–∏–π
- ‚úÖ –ü–æ–∑–∏—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- ‚úÖ –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Å–æ —Å—Ç–µ–Ω–∞–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –û—Ç–ª–∞–¥–∫–∏

```javascript
// –ü–æ–ª–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ –≤—Å–µ–≥–æ
fullDebug()

// –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
debugGameState()

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å input manager
testInputManager()

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–∑–∏–∫—É
testPhysics()

// –†—É—á–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
manualMove('up')    // –∏–ª–∏ 'down', 'left', 'right'

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∞–≤–∏—à
console.log(inputManager.keys)

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
const dir = inputManager.getMovementDirection()
console.log(`dx=${dir.dx}, dy=${dir.dy}`)
```

---

## üöÄ –§–∞–π–ª—ã –∫–æ—Ç–æ—Ä—ã–µ –ë—ã–ª–∏ –ò–∑–º–µ–Ω–µ–Ω—ã

| –§–∞–π–ª | –ß—Ç–æ –±—ã–ª–æ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|------|---------|-----------|
| maze-input.js | –ü—Ä–æ—Å—Ç–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ + WASD |
| maze-main.js | –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ | ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ |
| maze.html | –ë–µ–∑ DEBUG.js | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω DEBUG.js |
| **DEBUG.js** | –ù–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª | ‚úÖ –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π |
| **test-controls.html** | –ù–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª | ‚úÖ –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π |

---

## üí° –ü–æ—á–µ–º—É —ç—Ç–æ –†–∞–±–æ—Ç–∞–µ—Ç –¢–µ–ø–µ—Ä—å

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ë—Ä–∞—É–∑–µ—Ä –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–ª –Ω–∞–∂–∞—Ç–∏—è —Å—Ç—Ä–µ–ª–æ–∫ –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞
- –°–æ–±—ã—Ç–∏—è –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏—Å—å (–Ω–µ—Ç `preventDefault()`)
- InputManager –±—ã–ª —Å–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏–ª –ø—Ä–æ–≤–µ—Ä–∫—É

**–†–µ—à–µ–Ω–∏–µ:**
- `preventDefault()` –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –Ø–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ `keydown` –∏ `keyup` —Å–æ–±—ã—Ç–∏–π
- WASD –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è –ª—É—á—à–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°—Ç—Ä–µ–ª–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ WASD —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ç–∫–æ –∏ –æ—Ç–∑—ã–≤—á–∏–≤–æ

---

## üìù –ó–∞–º–µ—Ç–∫–∏

- –ï—Å–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏ (F12)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–æ–∫—É—Å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–≥—Ä—É –ø–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –Ω–∞–∂–∏–º–∞—Ç—å)
- –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É

---

**–ì–æ—Ç–æ–≤–æ! üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å!**
